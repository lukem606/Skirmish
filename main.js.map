{"version":3,"file":"main.js","mappings":"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","sources":["webpack://skirmish/./src/style.css","webpack://skirmish/./node_modules/css-loader/dist/runtime/api.js","webpack://skirmish/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://skirmish/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://skirmish/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://skirmish/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://skirmish/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://skirmish/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://skirmish/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://skirmish/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://skirmish/webpack/bootstrap","webpack://skirmish/webpack/runtime/compat get default export","webpack://skirmish/webpack/runtime/define property getters","webpack://skirmish/webpack/runtime/global","webpack://skirmish/webpack/runtime/hasOwnProperty shorthand","webpack://skirmish/webpack/runtime/publicPath","webpack://skirmish/webpack/runtime/jsonp chunk loading","webpack://skirmish/./node_modules/uuid/dist/esm-browser/rng.js","webpack://skirmish/./node_modules/uuid/dist/esm-browser/regex.js","webpack://skirmish/./node_modules/uuid/dist/esm-browser/validate.js","webpack://skirmish/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://skirmish/./node_modules/uuid/dist/esm-browser/v4.js","webpack://skirmish/./src/utils/vector.js","webpack://skirmish/./src/engine/ballistic.js","webpack://skirmish/./src/engine/map.js","webpack://skirmish/./src/utils/mathUtils.js","webpack://skirmish/./src/utils/linkedList.js","webpack://skirmish/./src/engine/platoon.js","webpack://skirmish/./src/data/colours.js","webpack://skirmish/./src/utils/colourUtils.js","webpack://skirmish/./src/engine/unit.js","webpack://skirmish/./src/engine/grid.js","webpack://skirmish/./src/engine/init.js","webpack://skirmish/./src/engine/render.js","webpack://skirmish/./src/engine/game.js","webpack://skirmish/./src/style.css?7163","webpack://skirmish/./src/app.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"./assets/fonts/press-start-2p-v9-latin-regular.woff2\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"./assets/fonts/press-start-2p-v9-latin-regular.woff\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@font-face {\\n  font-family: \\\"PressStart2P\\\";\\n  font-style: normal;\\n  font-weight: 400;\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")\\n    format(\\\"woff2\\\");\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") format(\\\"woff\\\");\\n}\\n\\nbody {\\n  background-color: rgb(0, 0, 0);\\n  margin: 0;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/style.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,2BAA2B;EAC3B,kBAAkB;EAClB,gBAAgB;EAChB;mBACiB;EACjB,2DAA8E;AAChF;;AAEA;EACE,8BAA8B;EAC9B,SAAS;AACX\",\"sourcesContent\":[\"@font-face {\\n  font-family: \\\"PressStart2P\\\";\\n  font-style: normal;\\n  font-weight: 400;\\n  src: url(\\\"./assets/fonts/press-start-2p-v9-latin-regular.woff2\\\")\\n    format(\\\"woff2\\\");\\n  src: url(\\\"./assets/fonts/press-start-2p-v9-latin-regular.woff\\\") format(\\\"woff\\\");\\n}\\n\\nbody {\\n  background-color: rgb(0, 0, 0);\\n  margin: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  }\n\n  url = String(url.__esModule ? url.default : url); // If url is already wrapped in quotes, remove them\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"/Skirmish/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","export default class Vector {\n  constructor(x_, y_, z_) {\n    this.x = x_ ? x_ : 0;\n    this.y = y_ ? y_ : 0;\n    this.z = z_ ? z_ : 0;\n  }\n\n  static add(firstVector, secondVector) {\n    const x_ = firstVector.x + secondVector.x;\n    const y_ = firstVector.y + secondVector.y;\n    const z_ = firstVector.z + secondVector.z;\n    return new Vector(x_, y_, z_);\n  }\n\n  static sub(firstVector, secondVector) {\n    const x_ = firstVector.x - secondVector.x;\n    const y_ = firstVector.y - secondVector.y;\n    const z_ = firstVector.z - secondVector.z;\n    return new Vector(x_, y_, z_);\n  }\n\n  static mult(vector, scalar) {\n    const x_ = vector.x * scalar;\n    const y_ = vector.y * scalar;\n    const z_ = vector.z * scalar;\n    return new Vector(x_, y_, z_);\n  }\n\n  static div(vector, scalar) {\n    let x_, y_, z_;\n\n    if (scalar !== 0) {\n      x_ = vector.x / scalar;\n      y_ = vector.y / scalar;\n      z_ = vector.z / scalar;\n    } else {\n      console.warn(\"Dividing by zero!\");\n      x_ = vector.x;\n      y_ = vector.y;\n      z_ = vector.z_;\n    }\n\n    return new Vector(x_, y_, z_);\n  }\n\n  static fromAngle2d(theta) {\n    return new Vector(Math.cos(theta), Math.sin(theta));\n  }\n\n  static fromAngle3d(theta, phi) {\n    const cosPhi = Math.cos(phi);\n    const sinPhi = Math.sin(phi);\n    const cosTheta = Math.cos(theta);\n    const sinTheta = Math.sin(theta);\n\n    return new p5.Vector(sinTheta * sinPhi, -1 * cosTheta, sinTheta * cosPhi);\n  }\n\n  add(vector) {\n    this.x += vector.x;\n    this.y += vector.y;\n    this.z += vector.z;\n  }\n\n  sub(vector) {\n    this.x -= vector.x;\n    this.y -= vector.y;\n    this.z -= vector.z;\n  }\n\n  mult(scalar) {\n    this.x *= scalar;\n    this.y *= scalar;\n    this.z *= scalar;\n  }\n\n  div(scalar) {\n    if (scalar !== 0) {\n      this.x /= scalar;\n      this.y /= scalar;\n      this.z /= scalar;\n    } else {\n      console.warn(\"Dividing by zero!\");\n    }\n  }\n\n  angleBetween(vector) {\n    const direction = Vector.sub(vector, this);\n    const angle = direction.heading();\n\n    return angle;\n  }\n\n  copy() {\n    return new Vector(this.x, this.y, this.z);\n  }\n\n  cross(vector) {\n    const x_ = this.y * vector.z - this.z * vector.y;\n    const y_ = this.z * vector.x - this.x * vector.z;\n    const z_ = this.x * vector.y - this.y * vector.x;\n    return new Vector(x_, y_, z_);\n  }\n\n  dist(vector) {\n    return Vector.sub(vector, this).magnitude();\n  }\n\n  distSq(vector) {\n    return Vector.sub(vector, this).magSq();\n  }\n\n  dot(vector) {\n    return (\n      this.x * (vector.x || 0) +\n      this.y * (vector.y || 0) +\n      this.z * (vector.z || 0)\n    );\n  }\n\n  equals(vector) {\n    if (this.x === vector.x && this.y === vector.y && this.z === vector.z) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  heading() {\n    return Math.atan2(this.y, this.x);\n  }\n\n  lerp(x_, y_, z_, amount) {\n    if (x_ instanceof Vector) {\n      this.lerp(x_.x, x_.y, x_.z, y_);\n    } else {\n      this.x += (x_ - this.x) * amount || 0;\n      this.y += (y_ - this.y) * amount || 0;\n      this.z += (z_ - this.z) * amount || 0;\n    }\n  }\n\n  limit(scalar) {\n    const mag = this.magnitude;\n    if (mag * mag > scalar * scalar) {\n      this.div(mag);\n      this.mult(scalar);\n    }\n  }\n\n  normalise() {\n    const length = this.magnitude();\n\n    if (length !== 0) {\n      this.mult(1 / length);\n    }\n  }\n\n  magnitude() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n  }\n\n  magSq() {\n    return this.x * this.x + this.y * this.y + this.z * this.z;\n  }\n}\n","import { v4 as v4uuid } from \"uuid\";\nimport Vector from \"../utils/vector\";\n\nexport default class Ballistic {\n  constructor(unit) {\n    const velocity = this.getVelocity(unit);\n\n    this.location = unit.location.copy();\n    this.velocity = velocity;\n    this.angle = velocity.heading();\n\n    this.stats = {\n      speed: 10,\n      limit: 100,\n      damage: unit.stats.attack,\n    };\n\n    this.state = {\n      origin: unit.state.id,\n      id: v4uuid(),\n      distanceTravelled: 0,\n    };\n  }\n\n  checkCollisions(grid) {\n    let closestUnit = null;\n    const hits = [];\n\n    const future = this.getFutureLocation(grid);\n    const futureDir = Vector.sub(future, this.location);\n    const futureMag = futureDir.magnitude();\n    futureDir.normalise();\n\n    const units = grid.getBulletUnits(this.location, future);\n\n    units.forEach((unit) => {\n      if (unit.state.id !== this.state.origin) {\n        const unitDir = Vector.sub(unit.location, this.location);\n        const unitMag = unitDir.magnitude();\n        unitDir.normalise();\n\n        if (\n          unitMag <= this.stats.speed &&\n          future.dist(unit.location) <= this.stats.speed\n        ) {\n          const theta = Math.acos(\n            futureDir.dot(unitDir) / (futureMag * unitMag)\n          );\n          const distanceFromBulletPath = Math.sin(theta) * unitMag;\n\n          if (distanceFromBulletPath < unit.size.x * 1.5) {\n            hits.push({ unit: unit, distance: unitMag });\n          }\n        }\n      }\n    });\n\n    if (hits.length) {\n      hits.forEach((unit) => {\n        if (!closestUnit) {\n          closestUnit = unit;\n        } else {\n          if (unit.distance < closestUnit.distance) {\n            closestUnit = unit;\n          }\n        }\n      });\n\n      closestUnit.unit.applyDamage(this.stats.damage);\n      this.state.distanceTravelled = this.limit * 2;\n    }\n  }\n\n  getVelocity(unit) {\n    const dir = Vector.sub(unit.state.target.location, unit.location);\n    dir.normalise();\n    dir.mult(10);\n    return dir;\n  }\n\n  getFutureLocation(grid) {\n    const future = Vector.add(this.location, this.velocity);\n\n    if (future.x < 0) {\n      future.x = 0;\n    } else if (future.x > grid.width) {\n      future.x = grid.width - 1;\n    } else if (future.y < 0) {\n      future.y = 0;\n    } else if (future.y > grid.height) {\n      future.y = grid.height - 1;\n    }\n\n    return future;\n  }\n\n  updateLocation() {\n    this.location.add(this.velocity);\n    this.state.distanceTravelled += this.stats.speed;\n  }\n}\n","export default class Map {\n  constructor() {\n    this.width = global.WIDTH;\n    this.height = global.HEIGHT;\n  }\n}\n","import Vector from \"./vector\";\n\nexport default class MathUtils {\n  static degreesToRadians(degrees) {\n    return (degrees * Math.PI) / 180;\n  }\n\n  static random(min, max) {\n    const diff = max - min;\n    return Math.random() * diff + min;\n  }\n\n  static gaussian() {\n    let u = 0;\n    let v = 0;\n\n    while (u === 0) u = Math.random();\n    while (v === 0) v = Math.random();\n\n    return Math.sqrt(-1.0 * Math.log(u)) * Math.cos(1.0 * Math.PI * v);\n  }\n\n  static mean(numbers) {\n    return numbers.reduce((a, b) => a + b) / numbers.length;\n  }\n\n  static meanVector(vectors) {\n    const total = new Vector();\n\n    for (let vector of vectors) {\n      total.x += vector.x;\n      total.y += vector.y;\n      total.z += vector.z;\n    }\n\n    total.div(vectors.length);\n    return total;\n  }\n\n  static map(number, prevMin, prevMax, newMin, newMax) {\n    const prevRange = prevMin - prevMax;\n    const newRange = newMin - newMax;\n    const scale = number / prevRange;\n\n    return newRange * scale;\n  }\n\n  static shuffle(array) {\n    let m = array.length;\n    let t;\n    let i;\n\n    while (m) {\n      i = Math.floor(Math.random() * m--);\n      t = array[m];\n      array[m] = array[i];\n      array[i] = t;\n    }\n\n    return array;\n  }\n}\n","export default class LinkedList {\n  constructor(value = null) {\n    this.head = value;\n    this.tail = value;\n    this.length = value ? 1 : 0;\n  }\n\n  getAll() {\n    const contents = [];\n    let node = this.head;\n\n    while (node) {\n      contents.push(node.value);\n      node = node.next;\n    }\n\n    return contents;\n  }\n\n  printList() {\n    const contents = [];\n    let currentList = this.head;\n\n    while (currentList !== null) {\n      contents.push(currentList);\n      currentList = currentList.next;\n    }\n\n    console.log([...contents]);\n  }\n\n  prepend(value) {\n    const newNode = new Node(value);\n\n    if (this.length === 0) {\n      this.head = newNode;\n      this.tail = this.head;\n    } else {\n      newNode.next = this.head;\n      this.head.previous = newNode;\n      this.head = newNode;\n    }\n\n    this.length++;\n  }\n\n  append(value) {\n    const newNode = new Node(value);\n\n    if (this.length === 0) {\n      this.head = newNode;\n      this.tail = this.head;\n    } else {\n      this.tail.next = newNode;\n      newNode.previous = this.tail;\n      this.tail = newNode;\n    }\n\n    this.length++;\n  }\n\n  insert(value, index) {\n    if (index < 0 || index > this.length || !Number.isInteger(index)) {\n      console.warn(\n        `Index is not a valid integer! Current length ${this.length}`\n      );\n      return;\n    }\n\n    if (index === 0) {\n      this.prepend(value);\n    } else if (index === this.length) {\n      this.append(value);\n    } else {\n      const newNode = new Node(value);\n\n      let previousNode = this.head;\n\n      for (let i = 0; i < index - 1; i++) {\n        previousNode = previousNode.next;\n      }\n\n      const nextNode = previousNode.next;\n\n      newNode.next = nextNode;\n      previousNode.next = newNode;\n      newNode.previous = previousNode;\n      nextNode.previous = newNode;\n    }\n\n    this.length++;\n  }\n\n  merge(list) {\n    if (!list instanceof LinkedList) {\n      console.warn(\n        \"LinkedList.merge must be passed an instance of a LinkedList\"\n      );\n      return;\n    }\n\n    list.getAll().forEach((value) => this.append(value));\n  }\n\n  activateNodes(values) {\n    let valuesArray;\n    let activatedNodes = 0;\n\n    if (values.constructor === Array) {\n      valuesArray = values;\n    } else {\n      valuesArray = [values];\n    }\n\n    let node = this.head;\n\n    while (node) {\n      for (const value of valuesArray) {\n        if (node.value == value) {\n          node.active = true;\n          activatedNodes += 1;\n        }\n      }\n\n      if (activatedNodes === valuesArray.length) {\n        return;\n      } else {\n        node = node.next;\n      }\n    }\n  }\n\n  deactivateNodes(values) {\n    let valuesArray;\n    let deactivatedNodes = 0;\n\n    if (values.constructor === Array) {\n      valuesArray = values;\n    } else {\n      valuesArray = [values];\n    }\n\n    let node = this.head;\n\n    while (node) {\n      for (const value of valuesArray) {\n        if (node.value == value) {\n          node.active = false;\n          deactivatedNodes += 1;\n        }\n      }\n\n      if (deactivatedNodes === valuesArray.length) {\n        return;\n      } else {\n        node = node.next;\n      }\n    }\n  }\n\n  removeById(id) {\n    let node = this.head;\n\n    while (node) {\n      if (node.value.state.id === id) {\n        if (node.previous && node.next) {\n          node.previous.next = node.next;\n          node.next.previous = node.previous;\n        } else if (node.previous) {\n          this.tail = node.previous;\n          this.tail.next = null;\n        } else if (node.next) {\n          this.head = node.next;\n          this.head.previous = null;\n        } else {\n          this.head = null;\n          this.tail = this.head;\n        }\n\n        this.length--;\n        return;\n      }\n\n      node = node.next;\n    }\n\n    console.warn(`Node with unit.id: ${id} not found in list!`);\n  }\n\n  removeByValues(values) {\n    let valuesArray;\n    let removed = 0;\n\n    if (values.constructor === Array) {\n      valuesArray = values;\n    } else {\n      valuesArray = [values];\n    }\n\n    let node = this.head;\n\n    while (node) {\n      for (const value of valuesArray) {\n        if (node.value == value) {\n          if (node.previous && node.next) {\n            node.previous.next = node.next;\n            node.next.previous = node.previous;\n          } else if (node.previous) {\n            this.tail = node.previous;\n            this.tail.next = null;\n          } else if (node.next) {\n            this.head = node.next;\n            this.head.previous = null;\n          } else {\n            this.head = null;\n            this.tail = this.head;\n          }\n\n          this.length--;\n          removed += 1;\n        }\n      }\n\n      if (removed === valuesArray.length) {\n        return;\n      } else {\n        node = node.next;\n      }\n    }\n\n    console.warn(`\"${array.join(\", \")}\" not found in list!`);\n  }\n}\n\nclass Node {\n  constructor(value) {\n    this.value = value;\n    this.previous = null;\n    this.next = null;\n  }\n}\n","import { v4 as v4uuid } from \"uuid\";\nimport LinkedList from \"../utils/linkedList\";\nimport Vector from \"../utils/vector\";\n\nexport default class Platoon {\n  constructor(x_, y_, units, teamName) {\n    const { platoonTotals } = global;\n    platoonTotals[teamName] = platoonTotals[teamName] + 1;\n\n    this.location = this.getMeanLocation(units);\n\n    this.stats = {\n      team: teamName,\n      FOV: 130,\n    };\n\n    this.state = {\n      behaviour: \"NON-COMBAT\",\n      action: \"REST\",\n      destination: 0,\n      previous: performance.now(),\n      id: v4uuid(),\n    };\n\n    this.units = this.populate(units);\n    this.updateStats();\n  }\n\n  populate(units) {\n    const unitList = new LinkedList();\n\n    for (const unit of units) {\n      unit.state.platoon = this;\n      unit.state.action = \"PLATOON\";\n      unitList.append(unit);\n    }\n\n    return unitList;\n  }\n\n  updateStats() {\n    let speed = 1000;\n    let acuity = 0;\n    let restTime = 0;\n\n    for (const unit of this.units.getAll()) {\n      speed = unit.stats.speed < speed ? unit.stats.speed : speed;\n      acuity = unit.stats.acuity > acuity ? unit.stats.acuity : acuity;\n      restTime =\n        unit.stats.restTime > restTime ? unit.stats.restTime : restTime;\n    }\n\n    this.stats.speed = speed;\n    this.stats.acuity = acuity;\n    this.stats.restTime = restTime;\n  }\n\n  update() {\n    if (this.state.behaviour === \"NON-COMBAT\") {\n      if (this.state.action === \"PATROL\") {\n        this.patrol();\n      } else if (this.state.action === \"REST\") {\n        this.rest();\n      }\n    } else if (this.state.behaviour === \"COMBAT\") {\n      // TODO\n    }\n\n    this.location = this.getMeanLocation(this.units.getAll());\n  }\n\n  patrol() {\n    if (\n      this.units.getAll().every((unit) => {\n        return (\n          unit.location.dist(this.state.destination) <\n          unit.size.y * (unit.size.x / 2)\n        );\n      })\n    ) {\n      this.state.destination = null;\n      this.state.action = \"REST\";\n      this.state.previous = performance.now();\n    } else {\n      this.moveUnits();\n    }\n  }\n\n  rest() {\n    if (performance.now() - this.state.previous > this.stats.restTime * 1000) {\n      this.state.action = \"PATROL\";\n      this.getDestination();\n    }\n  }\n\n  moveUnits() {\n    const units = this.units.getAll();\n\n    for (let unit of units) {\n      if (unit.location.dist(this.state.destination) > unit.size.y * 2) {\n        unit.seek(this.state.destination);\n      }\n      this.flock(unit, units);\n      unit.updateLocation();\n    }\n  }\n\n  flock(unit, others) {\n    const avoid = unit.avoid(others);\n    const cohere = unit.cohere(others);\n    const align = unit.align(others);\n\n    avoid.mult(0.2);\n    cohere.mult(0.2);\n    align.mult(0.2);\n\n    unit.applyBehaviour(avoid);\n    unit.applyBehaviour(cohere);\n    unit.applyBehaviour(align);\n  }\n\n  addUnit(unit) {\n    unit.state.platoon = this;\n    unit.state.action = this.state.action;\n    this.units.append(unit);\n\n    this.updateStats();\n  }\n\n  getDestination() {\n    const { WIDTH, HEIGHT } = global;\n\n    let destination = new Vector(Math.random() * WIDTH, Math.random() * HEIGHT);\n\n    const direction = Vector.sub(destination, this.location);\n    const distance = direction.magnitude();\n    direction.normalise();\n\n    if (distance > this.stats.acuity * 2) {\n      direction.mult(this.stats.acuity * 2);\n\n      destination.x = this.location.x + direction.x;\n      destination.y = this.location.y + direction.y;\n    }\n\n    this.state.destination = destination;\n  }\n\n  getMeanLocation(units) {\n    const location = new Vector();\n\n    for (let unit of units) {\n      location.add(unit.location);\n    }\n\n    location.div(units.length);\n    return location;\n  }\n\n  checkEdges() {\n    for (let unit of this.units.getAll()) {\n      unit.checkEdges();\n    }\n  }\n}\n","export default {\n  WHITE: [255, 255, 255],\n  GREY: [100, 100, 100],\n  BLACK: [0, 0, 0],\n  teams: {\n    RED: [235, 60, 39],\n    BLUE: [35, 98, 162],\n    GREEN: [3, 160, 98],\n    YELLOW: [251, 183, 65],\n  },\n};\n","export default class Colours {\n  static getRGB(colour) {\n    return `rgb(${colour[0]}, ${colour[1]}, ${colour[2]})`;\n  }\n\n  static getRGBA(colour, alpha) {\n    return `rgba(${colour[0]}, ${colour[1]}, ${colour[2]}, ${alpha})`;\n  }\n}\n","import { v4 as v4uuid } from \"uuid\";\nimport COLOURS from \"../data/colours\";\nimport ColourUtils from \"../utils/colourUtils\";\nimport MathUtils from \"../utils/mathUtils\";\nimport Vector from \"../utils/vector\";\n\nexport default class Unit {\n  constructor(x_, y_, teamName) {\n    const { unitTotals } = global;\n    unitTotals[teamName] = unitTotals[teamName] + 1;\n\n    this.location = new Vector(x_, y_);\n    this.velocity = new Vector(\n      MathUtils.random(-1, 1),\n      MathUtils.random(-1, 1)\n    );\n    this.acceleration = new Vector();\n    this.size = new Vector(4, 8);\n    this.angle = this.velocity.heading();\n    this.angleOffset = 0;\n    this.velocity.mult(0);\n\n    const health = 100;\n    const attack = 20 + MathUtils.gaussian() * 2;\n    const speed = 1 + MathUtils.gaussian() * 0.25;\n    const acuity = this.size.x * 20 + MathUtils.gaussian() * this.size.x * 2;\n    const range = acuity * 0.75;\n    const restTime = MathUtils.random(2, 4);\n\n    this.stats = {\n      team: teamName,\n      health: health,\n      attack: attack,\n      speed: speed,\n      FOV: 130,\n      acuity: acuity,\n      range: range,\n      restTime: restTime,\n    };\n\n    this.state = {\n      id: v4uuid(),\n      platoon: null,\n      behaviour: \"NON-COMBAT\",\n      action: \"REST\",\n      destination: null,\n      target: null,\n      previous: performance.now(),\n      colour: ColourUtils.getRGB(COLOURS.teams[teamName]),\n    };\n  }\n\n  performBehaviour(entities) {\n    if (!this.state.target && entities.length >= 1) {\n      const nearest = this.getNearestEntity(entities);\n\n      if (nearest) {\n        if (nearest.stats.team !== this.stats.team) {\n          this.state.behaviour = \"COMBAT\";\n          this.state.action = \"ATTACK\";\n          this.state.target = nearest;\n        } else if (nearest.stats.team === this.stats.team) {\n          if (\n            nearest.state.behaviour === \"NON-COMBAT\" &&\n            nearest.state.action !== \"JOIN\"\n          ) {\n            this.state.action = \"JOIN\";\n            this.state.target = nearest;\n            this.state.destination = nearest.location;\n            nearest.state.action = \"JOIN\";\n            nearest.state.target = this;\n            nearest.state.destination = this.location;\n          } else if (nearest.state.behaviour === \"PLATOON\") {\n            this.state.action = \"JOIN\";\n            this.state.target = nearest;\n            this.state.destination = nearest.location;\n          }\n        }\n      }\n    }\n\n    if (this.state.behaviour === \"NON-COMBAT\") {\n      this.nonCombatBehaviour();\n    } else if (this.state.behaviour === \"COMBAT\") {\n      this.combatBehaviour();\n    }\n  }\n\n  nonCombatBehaviour() {\n    if (this.state.action === \"PATROL\") {\n      this.patrol();\n    } else if (this.state.action === \"REST\") {\n      this.rest();\n    } else if (this.state.action === \"JOIN\") {\n      this.join();\n    }\n  }\n\n  combatBehaviour() {\n    if (this.state.action === \"ATTACK\") {\n      this.attack();\n    } else if (this.state.action === \"SEARCH\") {\n      // TODO\n    }\n  }\n\n  patrol() {\n    if (this.location.equals(this.state.destination)) {\n      this.state.destination = null;\n      this.state.action = \"REST\";\n      this.state.previous = performance.now();\n    } else {\n      if (this.location.dist(this.state.destination) < this.stats.speed) {\n        this.location = this.state.destination.copy();\n      } else {\n        this.seek(this.state.destination);\n        this.updateLocation();\n      }\n    }\n  }\n\n  rest() {\n    if (performance.now() - this.state.previous > this.stats.restTime * 1000) {\n      this.state.action = \"PATROL\";\n      this.getDestination();\n      this.seek(this.state.destination);\n      this.angleOffset = 0;\n    }\n  }\n\n  join() {\n    if (\n      this.location.dist(this.state.target.location) <\n      this.size.y * (this.size.x / 2)\n    ) {\n      const ally = this.state.target;\n\n      if (ally.state.behaviour === \"PLATOON\") {\n        this.state.target = null;\n        this.state.destination = null;\n        this.state.behaviour = \"PLATOON\";\n        this.state.action = \"JOINING\";\n        this.state.platoon = ally.state.platoon.state.id;\n      } else {\n        const reference = v4uuid();\n        this.state.target = null;\n        this.state.destination = null;\n        this.state.behaviour = \"PLATOON\";\n        this.state.action = \"JOINING\";\n        this.state.platoon = reference;\n        ally.state.target = null;\n        ally.state.destination = null;\n        ally.state.behaviour = \"PLATOON\";\n        ally.state.action = \"JOINING\";\n        ally.state.platoon = reference;\n      }\n    } else {\n      this.seek(this.state.target.location);\n      this.updateLocation();\n    }\n  }\n\n  attack() {\n    if (this.location.dist(this.state.target.location) <= this.stats.range) {\n      if (performance.now() - this.state.previous >= 1000) {\n        this.state.action = \"FIRE\";\n        this.state.previous = performance.now();\n      }\n    } else {\n      if (this.location.dist(this.state.target.location) <= this.stats.acuity) {\n        this.seek(this.state.target.location);\n        this.updateLocation();\n      } else {\n        this.state.action = \"SEARCH\";\n      }\n    }\n  }\n\n  seek(destination) {\n    const future = Vector.sub(destination, this.location);\n    future.normalise();\n    future.mult(this.stats.acuity / 2);\n\n    const angle = MathUtils.random(0, 2 * Math.PI);\n    const radius = this.size.y;\n\n    const steer = Vector.add(\n      future,\n      new Vector(Math.cos(angle) * radius, Math.sin(angle) * radius)\n    );\n    steer.normalise();\n    steer.mult(this.getSpeed());\n    steer.sub(this.velocity);\n\n    this.angle =\n      future.heading() +\n      MathUtils.map(\n        Math.cos(this.angleOffset),\n        0 - Math.PI,\n        Math.PI,\n        Math.PI * 0.25,\n        Math.PI * 0.75\n      );\n    this.angleOffset += 0.25 * this.stats.speed;\n    this.applyBehaviour(steer);\n  }\n\n  avoid(others) {\n    const avoid = new Vector();\n    const desiredDistance = this.size.y * 1;\n    let count = 0;\n\n    for (const other of others) {\n      const distance = this.location.dist(other.location);\n\n      if (distance > 0 && distance < desiredDistance) {\n        const steer = Vector.sub(other.location, this.location);\n        steer.normalise();\n        steer.div(distance);\n        steer.mult(-1);\n        avoid.add(steer);\n        count++;\n      }\n    }\n\n    if (count >= 1) {\n      avoid.div(count);\n      avoid.normalise();\n      avoid.mult(this.getSpeed());\n      avoid.sub(this.velocity);\n    }\n\n    if (this.state.behaviour === \"PLATOON\") {\n      return avoid;\n    } else {\n      this.applyBehaviour(avoid);\n    }\n  }\n\n  cohere(others) {\n    const cohere = new Vector(0, 0);\n    const desiredDistance = this.size.y * 4;\n    let count = 0;\n\n    for (const other of others) {\n      const distance = this.location.dist(other.location);\n\n      if (distance > 0 && distance > desiredDistance) {\n        const steer = Vector.sub(other.location, this.location);\n        steer.normalise();\n        steer.div(distance);\n        cohere.add(steer);\n        count++;\n      }\n    }\n\n    if (count >= 1) {\n      cohere.div(count);\n      cohere.normalise();\n      cohere.mult(this.getSpeed());\n      cohere.sub(this.velocity);\n    }\n\n    if (this.state.behaviour === \"PLATOON\") {\n      return cohere;\n    } else {\n      this.applyBehaviour(cohere);\n    }\n  }\n\n  align(others) {\n    const align = new Vector();\n\n    for (const other of others) {\n      if (this.state.id !== other.state.id) {\n        align.add(other.velocity);\n      }\n    }\n\n    align.div(others.length);\n    align.normalise();\n    align.mult(this.getSpeed());\n    align.sub(this.velocity);\n\n    if (this.state.behaviour === \"PLATOON\") {\n      return align;\n    } else {\n      this.applyBehaviour(align);\n    }\n  }\n\n  getDestination() {\n    const { WIDTH, HEIGHT } = global;\n\n    let destination = new Vector(Math.random() * WIDTH, Math.random() * HEIGHT);\n\n    const direction = Vector.sub(destination, this.location);\n    const distance = direction.magnitude();\n    direction.normalise();\n\n    if (distance > this.stats.acuity * 2) {\n      direction.mult(this.stats.acuity * 2);\n\n      destination.x = this.location.x + direction.x;\n      destination.y = this.location.y + direction.y;\n    }\n\n    this.state.destination = destination;\n  }\n\n  updateLocation() {\n    this.velocity.add(this.acceleration);\n    this.velocity.limit(this.getSpeed());\n    this.location.add(this.velocity);\n\n    this.acceleration.mult(0);\n  }\n\n  getNearestEntity(entities) {\n    let closest;\n    let shortestDistance = 1000000;\n\n    for (const entity of entities) {\n      const distance = this.location.dist(entity.location);\n\n      if (distance < shortestDistance) {\n        shortestDistance = distance;\n        closest = entity;\n      }\n    }\n\n    return closest ? closest : false;\n  }\n\n  applyBehaviour(force) {\n    this.acceleration.add(force);\n  }\n\n  applyDamage(damage) {\n    this.stats.health -= damage;\n  }\n\n  getSpeed() {\n    if (this.state.behaviour === \"PLATOON\") {\n      return this.state.platoon.stats.speed;\n    } else {\n      return this.stats.speed;\n    }\n  }\n\n  checkEdges() {\n    const { WIDTH, HEIGHT } = global;\n\n    if (this.location.x < this.size.x) {\n      this.location.x = this.size.x;\n    } else if (this.location.x > WIDTH - this.size.x) {\n      this.location.x = WIDTH - this.size.x;\n    }\n\n    if (this.location.y < this.size.x) {\n      this.location.y = this.size.x;\n    } else if (this.location.y > HEIGHT - this.size.x) {\n      this.location.y = HEIGHT - this.size.x;\n    }\n  }\n}\n","import LinkedList from \"../utils/linkedList\";\nimport MathUtils from \"../utils/mathUtils\";\nimport Platoon from \"./platoon\";\nimport Vector from \"../utils/vector\";\n\nexport default class Grid {\n  constructor(x_, y_) {\n    this.width = global.WIDTH;\n    this.height = global.HEIGHT;\n    this.cellsX = x_;\n    this.cellsY = y_;\n    this.cellSize = new Vector(global.WIDTH / x_, global.HEIGHT / y_);\n    this.cells = this.initaliseCells();\n  }\n\n  initaliseCells() {\n    const cells = [];\n\n    for (let y_ = 0; y_ < this.cellsY; y_++) {\n      const row = [];\n\n      for (let x_ = 0; x_ < this.cellsX; x_++) {\n        row.push({\n          position: new Vector(x_, y_),\n          obstacles: new LinkedList(),\n          units: new LinkedList(),\n          ballistics: new LinkedList(),\n        });\n      }\n\n      cells.push(row);\n    }\n\n    return cells;\n  }\n\n  getCellFromVector(location) {\n    let x_ = Math.floor(location.x / this.cellSize.x);\n    let y_ = Math.floor(location.y / this.cellSize.y);\n\n    return this.cells[y_][x_];\n  }\n\n  updateCells() {\n    for (const row of this.cells) {\n      for (const cell of row) {\n        for (const unit of cell.units.getAll()) {\n          const unitCell = this.getCellFromVector(unit.location);\n\n          if (!cell.position.equals(unitCell.position)) {\n            cell.units.removeById(unit.state.id);\n            unitCell.units.append(unit);\n          }\n        }\n\n        for (const ballistic of cell.ballistics.getAll()) {\n          const ballisticCell = this.getCellFromVector(ballistic.location);\n\n          if (!cell.position.equals(ballisticCell.position)) {\n            cell.ballistics.removeById(ballistic.state.id);\n            ballisticCell.ballistics.append(ballistic);\n          }\n        }\n      }\n    }\n  }\n\n  getBulletUnits(current, future) {\n    const units = [];\n    const currentCell = this.getCellFromVector(current);\n    const futureCell = this.getCellFromVector(future);\n\n    if (currentCell == futureCell) {\n      currentCell.units.getAll().forEach((unit) => {\n        units.push(unit);\n      });\n    } else {\n      currentCell.units.getAll().forEach((unit) => {\n        units.push(unit);\n      });\n\n      futureCell.units.getAll().forEach((unit) => {\n        units.push(unit);\n      });\n    }\n\n    return units;\n  }\n\n  getVisibleUnits(unit) {\n    const unitCell = this.getCellFromVector(unit.location);\n    const searchCells = this.getNeighbouringCells(unitCell);\n    const visibleUnits = [];\n    const unitDirection = unit.velocity.copy();\n    unitDirection.normalise();\n\n    for (const cell of searchCells) {\n      let otherNode = cell.units.head;\n\n      while (otherNode) {\n        const other = otherNode.value;\n\n        if (unit.state.id === other.state.id) {\n          otherNode = otherNode.next;\n        } else {\n          if (\n            (other.location.x - unit.location.x) *\n              (other.location.x - unit.location.x) +\n              (other.location.y - unit.location.y) *\n                (other.location.y - unit.location.y) <\n            unit.stats.acuity * unit.stats.acuity\n          ) {\n            const otherDirection = new Vector(\n              other.location.x - unit.location.x,\n              other.location.y - unit.location.y\n            );\n            otherDirection.normalise();\n\n            const dot = unitDirection.dot(otherDirection);\n\n            if (MathUtils.map(dot, -1, 1, 180, 0) < unit.stats.FOV / 2) {\n              visibleUnits.push(other);\n            }\n          }\n\n          otherNode = otherNode.next;\n        }\n      }\n    }\n\n    return visibleUnits;\n  }\n\n  getNeighbouringCells(cell) {\n    const xValues = [cell.position.x];\n    const yValues = [cell.position.y];\n\n    if (cell.position.x === 0) {\n      xValues.push(cell.position.x + 1);\n    } else if (cell.position.x === this.cellsX - 1) {\n      xValues.push(cell.position.x - 1);\n    } else {\n      xValues.push(cell.position.x - 1);\n      xValues.push(cell.position.x + 1);\n    }\n\n    if (cell.position.y === 0) {\n      yValues.push(cell.position.y + 1);\n    } else if (cell.position.y === this.cellsY - 1) {\n      yValues.push(cell.position.y - 1);\n    } else {\n      yValues.push(cell.position.y - 1);\n      yValues.push(cell.position.y + 1);\n    }\n\n    const cells = [];\n\n    for (let y_ = 0; y_ < yValues.length; y_++) {\n      for (let x_ = 0; x_ < xValues.length; x_++) {\n        cells.push(this.cells[yValues[y_]][xValues[x_]]);\n      }\n    }\n\n    return cells;\n  }\n\n  createPlatoon(units) {\n    const origin = units[0].location;\n    const platoon = new Platoon(origin.x, origin.y, units);\n\n    const cell = this.getCellFromVector(units[0].location);\n    cell.platoons.append(platoon);\n    cell.units.deactivateNodes(units);\n  }\n\n  addUnitToPlatoon(unit, platoon) {\n    platoon.units.append(unit);\n\n    const cell = this.getCellFromVector(unit.location);\n    cell.units.deactivateNodes(unit);\n  }\n}\n","import Map from \"./map\";\nimport MathUtils from \"../utils/mathUtils\";\nimport Platoon from \"./platoon\";\nimport Unit from \"./unit\";\nimport Vector from \"../utils/vector\";\nimport Grid from \"./grid\";\nimport LinkedList from \"../utils/linkedList\";\n\nexport default class Init {\n  static init(pad) {\n    this.initialiseCanvas(pad);\n\n    const grid = Init.initialiseGrid();\n    const map = Init.initialiseMap();\n    // const { platoons, units } = Init.initialisePlatoons(grid);\n    // units.merge(Init.initialiseUnits(grid));\n    const units = Init.initialiseUnits(grid);\n    const platoons = new LinkedList();\n    const ballistics = new LinkedList();\n\n    return {\n      grid: grid,\n      map: map,\n      platoons: platoons,\n      units: units,\n      ballistics: ballistics,\n    };\n  }\n\n  static initialiseCanvas(pad) {\n    const WIDTH = window.innerWidth - pad * 2;\n    const HEIGHT = window.innerHeight - pad * 2;\n\n    const container = document.createElement(\"div\");\n    container.id = \"container\";\n    container.style.padding = `${pad}px`;\n\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = WIDTH;\n    canvas.height = HEIGHT;\n    const context = canvas.getContext(\"2d\");\n\n    container.appendChild(canvas);\n    document.body.appendChild(container);\n\n    global = {\n      canvas: canvas,\n      context: context,\n      WIDTH: WIDTH,\n      HEIGHT: HEIGHT,\n      unitTotals: {\n        RED: 0,\n        BLUE: 0,\n        GREEN: 0,\n        YELLOW: 0,\n      },\n      platoonTotals: {\n        RED: 0,\n        BLUE: 0,\n        GREEN: 0,\n        YELLOW: 0,\n      },\n    };\n  }\n\n  static initialiseMap() {\n    const map = new Map();\n    return map;\n  }\n\n  static initialiseGrid() {\n    const { WIDTH, HEIGHT } = global;\n    let x_, y_;\n\n    if (WIDTH > HEIGHT) {\n      x_ = 6;\n      y_ = 4;\n    } else if (WIDTH < HEIGHT) {\n      x_ = 4;\n      y_ = 6;\n    } else if (WIDTH === HEIGHT) {\n      x_ = 6;\n      y_ = 6;\n    }\n\n    const grid = new Grid(x_, y_);\n    return grid;\n  }\n\n  static initialiseUnits(grid) {\n    let colour;\n    const units = new LinkedList();\n\n    for (let u = 0; u < 40; u++) {\n      let origin;\n\n      if (u % 4 === 0) {\n        colour = \"RED\";\n        origin = new Vector(\n          MathUtils.random(0, global.WIDTH / 2),\n          MathUtils.random(0, global.HEIGHT / 2)\n        );\n      } else if (u % 4 === 1) {\n        colour = \"BLUE\";\n        origin = new Vector(\n          MathUtils.random(global.WIDTH / 2, global.WIDTH),\n          MathUtils.random(0, global.HEIGHT / 2)\n        );\n      } else if (u % 4 === 2) {\n        colour = \"GREEN\";\n        origin = new Vector(\n          MathUtils.random(0, global.WIDTH / 2),\n          MathUtils.random(global.HEIGHT / 2, global.HEIGHT)\n        );\n      } else if (u % 4 === 3) {\n        colour = \"YELLOW\";\n        origin = new Vector(\n          MathUtils.random(global.WIDTH / 2, global.WIDTH),\n          MathUtils.random(global.HEIGHT / 2, global.HEIGHT)\n        );\n      }\n\n      const unit = new Unit(origin.x, origin.y, colour);\n      units.append(unit);\n\n      const cell = grid.getCellFromVector(origin);\n      cell.units.append(unit);\n    }\n\n    return units;\n  }\n\n  static initialisePlatoons(grid) {\n    const platoons = new LinkedList();\n    const units = new LinkedList();\n\n    for (let p = 0; p < 4; p++) {\n      let colour;\n      let origin;\n      const platoonUnits = [];\n\n      if (p % 4 === 0) {\n        colour = \"RED\";\n        origin = new Vector(\n          MathUtils.random(50, global.WIDTH / 2),\n          MathUtils.random(50, global.HEIGHT / 2)\n        );\n      } else if (p % 4 === 1) {\n        colour = \"BLUE\";\n        origin = new Vector(\n          MathUtils.random(global.WIDTH / 2, global.WIDTH - 50),\n          MathUtils.random(50, global.HEIGHT / 2)\n        );\n      } else if (p % 4 === 2) {\n        colour = \"GREEN\";\n        origin = new Vector(\n          MathUtils.random(50, global.WIDTH / 2),\n          MathUtils.random(global.HEIGHT / 2, global.HEIGHT - 50)\n        );\n      } else if (p % 4 === 3) {\n        colour = \"YELLOW\";\n        origin = new Vector(\n          MathUtils.random(global.WIDTH / 2, global.WIDTH - 50),\n          MathUtils.random(global.HEIGHT / 2, global.HEIGHT - 50)\n        );\n      }\n\n      for (let u = 0; u < 6; u++) {\n        const unit = new Unit(\n          origin.x + MathUtils.random(-20, 20),\n          origin.y + MathUtils.random(-20, 20),\n          colour\n        );\n\n        unit.state.behaviour = \"PLATOON\";\n        unit.state.action = \"PLATOON\";\n        units.append(unit);\n        platoonUnits.push(unit);\n\n        const cell = grid.getCellFromVector(unit.location);\n        cell.units.append(unit);\n      }\n\n      platoons.append(new Platoon(origin.x, origin.y, platoonUnits, colour));\n    }\n\n    return { platoons: platoons, units: units };\n  }\n}\n","import COLOURS from \"../data/colours\";\nimport ColourUtils from \"../utils/colourUtils\";\nimport MathUtils from \"../utils/mathUtils\";\n\nexport default class Render {\n  static clear() {\n    const { context, WIDTH, HEIGHT } = global;\n    context.clearRect(0, 0, WIDTH, HEIGHT);\n  }\n\n  static renderOverlay() {\n    const { context, platoonTotals, unitTotals } = global;\n    context.font = \"16px PressStart2P\";\n    context.textBaseline = \"top\";\n    context.textAlign = \"center\";\n\n    context.fillStyle = ColourUtils.getRGBA(COLOURS.teams[\"RED\"], 0.5);\n    context.fillText(unitTotals[\"RED\"], 20, 20);\n    context.fillText(platoonTotals[\"RED\"], 20, 50);\n    context.fillStyle = ColourUtils.getRGBA(COLOURS.teams[\"BLUE\"], 0.5);\n    context.fillText(unitTotals[\"BLUE\"], 80, 20);\n    context.fillText(platoonTotals[\"BLUE\"], 80, 50);\n    context.fillStyle = ColourUtils.getRGBA(COLOURS.teams[\"GREEN\"], 0.5);\n    context.fillText(unitTotals[\"GREEN\"], 140, 20);\n    context.fillText(platoonTotals[\"GREEN\"], 140, 50);\n    context.fillStyle = ColourUtils.getRGBA(COLOURS.teams[\"YELLOW\"], 0.5);\n    context.fillText(unitTotals[\"YELLOW\"], 200, 20);\n    context.fillText(platoonTotals[\"YELLOW\"], 200, 50);\n  }\n\n  static renderGrid(grid) {\n    const { context } = global;\n    for (let y = 0; y < grid.cellsY; y++) {\n      for (let x = 0; x < grid.cellsX; x++) {\n        context.strokeStyle = ColourUtils.getRGBA(COLOURS.GREY, 0.3);\n        context.strokeRect(\n          x * grid.cellSize.x,\n          y * grid.cellSize.y,\n          grid.cellSize.x,\n          grid.cellSize.y\n        );\n      }\n    }\n  }\n\n  static renderAllPlatoons(platoons) {\n    platoons.forEach((platoon) => {\n      this.renderPlatoon(platoon);\n    });\n  }\n\n  static renderAllUnits(units) {\n    units.forEach((unit) => {\n      this.renderUnit(unit);\n    });\n  }\n\n  static renderAllBallistics(ballistics) {\n    ballistics.forEach((ballistics) => {\n      this.renderBallistic(ballistics);\n    });\n  }\n\n  static renderPlatoon(platoon) {\n    const { context } = global;\n    context.save();\n    context.translate(platoon.location.x, platoon.location.y);\n\n    context.beginPath();\n    context.fillStyle = ColourUtils.getRGBA(COLOURS.GREY, 0.3);\n    context.arc(0, 0, 10, 0, 2 * Math.PI);\n    context.fill();\n    context.closePath();\n\n    context.restore();\n  }\n\n  static renderUnit(unit) {\n    const { context } = global;\n    const visionCone = false;\n    context.save();\n    context.translate(unit.location.x, unit.location.y);\n    context.rotate(unit.angle);\n\n    if (visionCone) {\n      context.beginPath();\n      context.fillStyle = \"rgba(255, 0, 0, 0.2)\";\n      context.lineTo(\n        Math.cos(MathUtils.degreesToRadians((-1 * unit.stats.FOV) / 2)),\n        Math.sin(MathUtils.degreesToRadians((-1 * unit.stats.FOV) / 2))\n      );\n      context.arc(\n        0,\n        0,\n        unit.stats.acuity,\n        MathUtils.degreesToRadians((-1 * unit.stats.FOV) / 2),\n        MathUtils.degreesToRadians(unit.stats.FOV / 2)\n      );\n      context.lineTo(0, 0);\n      context.fill();\n      context.closePath();\n\n      context.beginPath();\n      context.fillStyle = \"rgba(0, 0, 255, 0.4)\";\n      context.lineTo(\n        Math.cos(MathUtils.degreesToRadians((-1 * unit.stats.FOV) / 2)),\n        Math.sin(MathUtils.degreesToRadians((-1 * unit.stats.FOV) / 2))\n      );\n      context.arc(\n        0,\n        0,\n        unit.stats.range,\n        MathUtils.degreesToRadians((-1 * unit.stats.FOV) / 2),\n        MathUtils.degreesToRadians(unit.stats.FOV / 2)\n      );\n      context.lineTo(0, 0);\n      context.fill();\n      context.closePath();\n    }\n\n    if (unit.stats.health > 0) {\n      context.fillStyle = unit.state.colour;\n    } else {\n      context.fillStyle = ColourUtils.getRGB(COLOURS.GREY);\n    }\n\n    context.fillRect(\n      -0.25 * unit.size.x,\n      -0.5 * unit.size.y,\n      0.5 * unit.size.x,\n      0.25 * unit.size.y\n    );\n    context.fillRect(\n      -0.25 * unit.size.x,\n      0.25 * unit.size.y,\n      0.5 * unit.size.x,\n      0.25 * unit.size.y\n    );\n    context.fillRect(\n      -0.5 * unit.size.x,\n      -0.25 * unit.size.y,\n      unit.size.x,\n      0.5 * unit.size.y\n    );\n\n    context.restore();\n  }\n\n  static renderBallistic(ballistic) {\n    const { context } = global;\n    context.save();\n    context.translate(ballistic.location.x, ballistic.location.y);\n    context.rotate(ballistic.angle);\n\n    context.fillStyle = ColourUtils.getRGB(COLOURS.WHITE);\n    context.fillRect(0, 0, 2, 2);\n\n    context.restore();\n  }\n\n  static renderPause() {\n    const { context, WIDTH, HEIGHT } = global;\n\n    context.font = \"32px PressStart2P\";\n    context.textBaseline = \"top\";\n    context.textAlign = \"center\";\n\n    context.fillStyle = ColourUtils.getRGB(COLOURS.WHITE);\n    context.fillText(\"PAUSED\", WIDTH / 2, HEIGHT / 2 - 15);\n  }\n}\n","import Ballistic from \"./ballistic\";\nimport Init from \"./init\";\nimport MathUtils from \"../utils/mathUtils\";\nimport Platoon from \"./platoon\";\nimport Render from \"./render\";\n\nexport default class Game {\n  constructor() {\n    const { grid, map, platoons, units, ballistics } = Init.init(20);\n    this.grid = grid;\n    this.map = map;\n    this.platoons = platoons;\n    this.units = units;\n    this.ballistics = ballistics;\n\n    this.running = true;\n    this.previous = performance.now();\n  }\n\n  run() {\n    this.draw();\n\n    if (this.running) {\n      this.updateAI();\n      this.updatePhysics();\n      this.grid.updateCells();\n      this.updatePlatoons();\n    }\n\n    requestAnimationFrame(this.run.bind(this));\n  }\n\n  draw() {\n    Render.clear();\n    Render.renderGrid(this.grid);\n    Render.renderOverlay();\n    Render.renderAllPlatoons(this.platoons.getAll());\n    Render.renderAllUnits(this.units.getAll());\n    Render.renderAllBallistics(this.ballistics.getAll());\n\n    if (!this.running) {\n      if ((performance.now() - this.previous) % 1600 < 800) {\n        Render.renderPause();\n      }\n    }\n  }\n\n  updateAI() {\n    for (const platoon of this.platoons.getAll()) {\n      platoon.update();\n    }\n\n    for (const unit of this.units.getAll()) {\n      const visibleUnits = this.grid.getVisibleUnits(unit);\n\n      if (unit.state.behaviour !== \"PLATOON\") {\n        unit.performBehaviour(visibleUnits);\n      }\n    }\n  }\n\n  updatePhysics() {\n    const { WIDTH, HEIGHT } = global;\n\n    for (const ballistic of this.ballistics.getAll()) {\n      ballistic.checkCollisions(this.grid);\n\n      if (ballistic.state.distanceTravelled <= ballistic.stats.limit) {\n        ballistic.updateLocation();\n\n        if (\n          ballistic.location.x < 0 ||\n          ballistic.location.x > WIDTH ||\n          ballistic.location.y < 0 ||\n          ballistic.location.y > HEIGHT\n        ) {\n          const ballisticCell = this.grid.getCellFromVector(ballistic.location);\n          ballisticCell.ballistics.removeById(ballistic.state.id);\n          this.ballistics.removeById(ballistic.state.id);\n        }\n      } else {\n        const ballisticCell = this.grid.getCellFromVector(ballistic.location);\n        ballisticCell.ballistics.removeById(ballistic.state.id);\n        this.ballistics.removeById(ballistic.state.id);\n      }\n    }\n\n    for (const unit of this.units.getAll()) {\n      unit.checkEdges();\n\n      if (unit.state.action === \"FIRE\") {\n        const unitCell = this.grid.getCellFromVector(unit.location);\n        const ballistic = new Ballistic(unit);\n\n        unitCell.ballistics.append(ballistic);\n        this.ballistics.append(ballistic);\n\n        unit.state.action = \"ATTACK\";\n      }\n    }\n  }\n\n  updatePlatoons() {\n    const platoonMap = {};\n    const platoonIds = this.platoons\n      .getAll()\n      .map((platoon) => platoon.state.id);\n\n    for (const unit of this.units.getAll()) {\n      if (\n        unit.state.behaviour === \"PLATOON\" &&\n        unit.state.action === \"JOINING\"\n      ) {\n        if (platoonIds.includes(unit.state.platoon)) {\n          for (const platoon of this.platoons.getAll()) {\n            if (platoon.state.id === unit.state.platoon) {\n              platoon.addUnit(unit);\n            }\n          }\n        } else {\n          if (platoonMap.hasOwnProperty(unit.state.platoon)) {\n            platoonMap[unit.state.platoon].push(unit);\n          } else {\n            platoonMap[unit.state.platoon] = [unit];\n          }\n        }\n      }\n    }\n\n    if (Object.entries(platoonMap).length >= 1) {\n      for (let [id, units] of Object.entries(platoonMap)) {\n        const unitLocations = units.map((unit) => unit.location);\n        const origin = MathUtils.meanVector(unitLocations);\n        const colour = units[0].stats.team;\n\n        this.platoons.append(new Platoon(origin.x, origin.y, units, colour));\n      }\n    }\n\n    for (const platoon of this.platoons.getAll()) {\n      if (platoon.units.length >= 10) {\n        let unitList = platoon.units.getAll();\n        unitList = MathUtils.shuffle(unitList);\n        const newUnits = [];\n        const origin = platoon.location.copy();\n\n        for (let i = 0; i < 5; i++) {\n          platoon.units.removeById(unitList[i].state.id);\n          newUnits.push(unitList[i]);\n        }\n\n        this.platoons.append(\n          new Platoon(origin.x, origin.y, newUnits, platoon.stats.team)\n        );\n      }\n    }\n  }\n}\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import Game from \"./engine/game\";\nimport \"./style.css\";\n\nconst game = new Game();\n\ndocument.addEventListener(\"keyup\", (e) => {\n  if (e.key === \"p\") {\n    game.running = !game.running;\n    game.pauseVisible = true;\n    game.previous = performance.now();\n  }\n});\n\ngame.run();\n"],"names":["___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","url","options","String","__esModule","default","test","slice","hash","needQuotes","replace","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","n","getter","d","a","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","call","p","b","baseURI","self","location","href","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","uuid","byteToHex","substr","buf","offset","rnds","random","arr","arguments","toLowerCase","TypeError","Vector","x_","y_","z_","x","y","z","firstVector","secondVector","vector","scalar","console","warn","theta","Math","cos","sin","phi","cosPhi","sinPhi","cosTheta","sinTheta","p5","sub","heading","magnitude","magSq","atan2","amount","lerp","mag","div","mult","sqrt","Ballistic","unit","velocity","getVelocity","copy","angle","stats","speed","limit","damage","attack","state","origin","v4uuid","distanceTravelled","grid","closestUnit","hits","future","getFutureLocation","futureDir","futureMag","normalise","getBulletUnits","forEach","unitDir","unitMag","dist","acos","dot","size","distance","applyDamage","dir","add","width","height","Map","global","WIDTH","HEIGHT","MathUtils","degrees","PI","min","max","diff","u","v","log","numbers","reduce","vectors","total","number","prevMin","prevMax","newMin","newMax","array","t","floor","LinkedList","value","tail","contents","node","next","currentList","newNode","Node","previous","Number","isInteger","prepend","append","previousNode","nextNode","getAll","values","valuesArray","activatedNodes","constructor","Array","active","deactivatedNodes","removed","Platoon","units","teamName","platoonTotals","getMeanLocation","team","FOV","behaviour","action","destination","performance","now","populate","updateStats","unitList","platoon","acuity","restTime","patrol","rest","every","moveUnits","getDestination","seek","flock","updateLocation","others","avoid","cohere","align","applyBehaviour","direction","checkEdges","WHITE","GREY","BLACK","teams","RED","BLUE","GREEN","YELLOW","Colours","colour","alpha","Unit","unitTotals","acceleration","angleOffset","gaussian","range","health","ColourUtils","COLOURS","entities","nearest","getNearestEntity","nonCombatBehaviour","combatBehaviour","equals","ally","reference","radius","steer","getSpeed","desiredDistance","other","closest","shortestDistance","entity","force","Grid","cellsX","cellsY","cellSize","cells","initaliseCells","row","position","obstacles","ballistics","cell","unitCell","getCellFromVector","removeById","ballistic","ballisticCell","current","currentCell","futureCell","searchCells","getNeighbouringCells","visibleUnits","unitDirection","otherNode","otherDirection","xValues","yValues","platoons","deactivateNodes","Init","pad","initialiseCanvas","initialiseGrid","initialiseMap","initialiseUnits","innerWidth","innerHeight","container","padding","canvas","context","getContext","body","platoonUnits","Render","clearRect","font","textBaseline","textAlign","fillStyle","fillText","strokeStyle","strokeRect","renderPlatoon","renderUnit","renderBallistic","save","translate","beginPath","arc","fill","closePath","restore","rotate","fillRect","Game","init","running","draw","updateAI","updatePhysics","updateCells","updatePlatoons","requestAnimationFrame","run","clear","renderGrid","renderOverlay","renderAllPlatoons","renderAllUnits","renderAllBallistics","renderPause","getVisibleUnits","performBehaviour","checkCollisions","platoonMap","platoonIds","includes","addUnit","entries","unitLocations","meanVector","shuffle","newUnits","game","addEventListener","pauseVisible"],"sourceRoot":""}